apache2 (2.2.3-4) UNRELEASED; urgency=medium

  [ Tollef Fog Heen ]
  * Revert NMU
  * Fix up apache2-src so the .tar.gz contains an apache2 top level
    directory.
  * Make apache2 MPMs provide and conflict with apache2-mpm so other
    packages can provide MPMs too.
  * Get rid of 2.1 references from descriptions.  (Closes: #400981)

  [ Thom May ]
  * fix up compare for enabling modules in apache2.2-common.postinst 
    (Closes: #396678,392349)
  * Let the init script cope with multiple pid files correctly. Probably we
    shouldn't be doing this at all, but we might as well do it properly!
    (Closes: #396162)
  * Add a sensible autoindex default config

  [ Peter Samuelson ]
  * Ship apache2.8 manpage in apache2.2-common.  (Closes: #391813)
  * New patch ajp_connection_reuse: fix connection reuse bug in
    mod_proxy_ajp.  (Closes: #396265)
  * Rearrange init script so that 'force-reload' is the same as 'reload'.
    (Closes: #401053)
  * Add Build-Depends: mawk.  (Closes: #403682)
  * Refactor apache2.2-common.postinst slightly, to account for sarge
    upgrades (since it's a new package name, rather than an upgrade).
    (Closes: #396782, #415775)
  * If mod_proxy was configured in sarge, add proxy_http and
    disk_cache modules, which used to be included in the mod_proxy config.
    (Closes: #407171)

 -- Tollef Fog Heen <tfheen@debian.org>  Sun, 29 Oct 2006 22:55:03 +0100

apache2 (2.2.3-3) unstable; urgency=medium

  [ Peter Samuelson ]
  * a2dismod: exit 0 if a module exists but is already disabled.
  * Ship a2enmod.8 and a2dismod.8 again, and expand them a bit.
    (Closes: #270551)

  [ Tollef Fog Heen ]
  * Build apache2-src package.
  * Do not AddDefaultCharset if we are proxying.  Closes: #277526
  * Do not forcefully link against libdb4.3 and other libs.
  * Enable the same list of modules as we had in 2.0 (by default) and do
    that for all older versions than 2.2.3-3 to fix upgrade issues people
    have had.  Closes: #392349
  * Set default IndexWidth to *.
  * Clean up CPPFLAGS and CFLAGS, including making all of CFLAGS a
    superset of CPPFLAGS.  Also make sure to include -I switches with
    absolute paths so the apache headers are useful.
  * Warn when not starting HTTPD due to missing apache binary.  
    Closes: #384128
  * Provide sample disk and memory cache configurations.  Closes: #278564
  * Provide dir.conf.   Closes: #392356
  * Add alternate dependency from apache to apache2-mpm-event
  * On reload, make the init script exit 1 with an error message if the
    configuration is broken.  Closes: #316858
  * Add default deflate.conf compressing text/html, text/plain and
    text/xml.  Closes: #349016
  * Add { and } around the usage format in the init script to make the
    init script bash completion happier.  Closes: #350606

  [ Adam Conrad ]
  * Update our php4 and php5 conflicts, to reflect the reality that each
    were uploaded and built again while apache2.2 was in the new queue.
    Closes: #392189
  * Migrate kill symlinks from K91 to K09 (closes: #376503)
  * Make apache2 depend on the current version of the MPMs, as it used
    to in the 2.0.x series (and make it binNMU-safe) (closes: #394658)
  * Make sure that the RedirectMatch in sites-available/default continues
    to be commented out for Ubuntu, while having it uncommented for Debian.

  [ Thom May ]
  * Fix permissions on suexec (Closes: #391918)
  * This is Debian, not Ubuntu (Closes: #393277)

 -- Adam Conrad <adconrad@0c3.net>  Sat,  7 Oct 2006 17:57:04 +1000

apache2 (2.2.3-2) unstable; urgency=low

  * Make sure to ship /var/log/apache2 in the apache2.2-common package.
    Closes: #390786
  * Install suexec.8 as suexec2.8.  Closes: #390774
  * Make sure that we never ship .svn directories in any binary packages.
    Closes: #390785
  * Not only chmod -x /usr/sbin/apache2 in apache2.2-common.preinst, chmod
    +x it in same's postinst too.  Closes: #390794
  * We now ship htcacheclean in apache2-utils.  Closes: #376680
  * Try to stop old apaches in preinst of the mpms.  Closes:  #390893
  * Make apache2-mpm-{worker,prefork} conflict with apache2-mpm-event and
    apache2-common.
  * rm -f /var/lib/dpkg/info/apache2-common.postrm.  So apache2-common can
    be purged. Yes, we're on crack.  Closes: #390823
  * Make apache2-utils's Replaces on apache2-common be unversioned.
    Closes: #391018
  * Stop shipping cern_meta.load, dumpio.load and ext_filter.load.  Thanks
    to Stephane Chazelas for noticing.  Closes: #391393

 -- Tollef Fog Heen <tfheen@debian.org>  Tue,  3 Oct 2006 10:03:48 +0200

apache2 (2.2.3-1) unstable; urgency=low

  * Remove mention of AddDefaultCharset from apache2.conf as this is now
    in /etc/apache2/conf.d/charset.
  * Rename apache2-common to apache2.2-common.  Conflict and replace old
    version.  This is to force modules to be uninstalled until versions
    compiled against 2.2 are provided.
  * Remove Daniel Stone from list of uploaders.
  * We no longer ship 035_HEAD_Content-Length_Fix_From_CVS.  Closes: #298143
  * Don't start the server on reload.  Closes: #316321
  * Install S91/K09 links, not S91/K91, also only support not starting
    through defaults file to cover upgrades from old
    installations. Closes: #359977, #349655
  * Big cleanup by using dh_install properly rather than loads of hacks in
    debian/rules.
  * No longer ship compat symlinks for ab, etc.  Those are installed as
    ab, htpasswd and similar.
  * Remove apache2-mpm-{event,worker}-{prerm,preinst,postinst} in clean,
    as those are copies of other files.
  * Add build-depends for libapr1-dev (>= 1.2.7-6) to make sure we get a
    version which ships a useful apr-config --apr-libtool.
  * chmod -x /usr/sbin/apache2 on upgrades from before 2.2 to avoid
    problems stopping apache due to some dpkg bug.
  * Add Conflicts for broken modules which didn't depend on
    apache2-common.

 -- Tollef Fog Heen <tfheen@debian.org>  Thu, 17 Aug 2006 14:02:58 +0200

apache2 (2.2.3-1~exp.r170) experimental; urgency=low

  [ Jeroen van Wolffelaar ]
  * Staging upload to experimental of subversion revision r170

  [ Thom May, Tollef Fog Heen, Fabio M. Di Nitto and Adam Conrad ]
  * New Upstream Release.  Closes: #344072
    http://httpd.apache.org/docs/2.2/new_features_2_2.html has a list of
    new features and changes.
    - Fixes LFS support. Closes: #341460, #285337, #241223
    - Fixes off-by-one error in mod_rewrite ldap schema handling
      (CVE-2006-3747)
    - Fixes XSS issue in mod_imap/mod_imagemap (CVE-2005-3352).  
      Closes: #343467.
    - mpm_perchild no longer exists, so closing bugs for perchild.
      Closes: #236193, #238586
    - Fixes PHP POST with SSLVerifyClient. Closes: 353443
  * Build-depend on lsb-release and pick up the branding from there.
  * Build-depend on apr-util 1.0 which is now in a separate source
    package.
  * Mangle the Debian layout to be more FHS compatible
  * No longer build-conflict with libgdbm-dev
  * Use external PCRE  
  * Make apache2-utils stop providing apache2-utils.  Also make it stop
    conflicting with itself.
  * Rename default site from default-site to just default.
  * Try to migrate modules which used to be built-in:, alias, mime,
    authz_host, autoindex, dir, env, negotiation, setenvif, status.
  * Mod imap has been renamed to imagemap, ditto for auth_ldap =>
    authnz_ldap.  Cope with that in postinst.
  * Stop globbing in apache2.conf.  
    Closes: #337817, #340955, #348189, #379015, #368497
  * Don't install CHANGES into the apache2 package.  It's just a
    metapackage.
  * Add rudimentary rdeps handling to a2dismod.  Closes: #273929
  * Stop providing apache-utils.
  * Cope with /var/run and /var/lock on tmpfs.
  * Remove all subdirs in srclib as we are using external libraries for
    those anyway.  Also remove test/zb.c.  Closes: 340538
  * Make ssl.conf not block on /dev/random, but rather use /dev/urandom.
  * Make apache2-common depend on lsb-base, thanks to Gleb Arshinov

 -- Jeroen van Wolffelaar <jeroen@wolffelaar.nl>  Tue, 15 Aug 2006 16:17:33 +0200

apache2 (2.0.55-4.1) unstable; urgency=high

  * Non-maintainer upload.  Urgency set to high due to security fixes.
  * Added '052_mod_rewrite_CVE-2006-3747' to fix the off-by-one bug in
    mod_rewrite.
    [CVE-2006-3747].  (Closes: #380182)
  * Added '053_restore_prefix_fix' to allow rebuilding from source.
    (Closes: #374160)
  * Added '054_apr_sendfile' to allow building for Hurd.
    (Closes: #349416)
  * Added '055_expect_CVE-2006-3918' to fix XSS attack in Expect headers.
    [CVE-2006-3918].  (Closes: #381376)
  * Added bash-completion script from Guillaume Rousse.
    (Closes: #299855)

 -- Steve Kemp <skx@debian.org>  Sat, 5 Aug 2006 21:35:53 +0000

apache2 (2.2.0-1) UNRELEASED; urgency=low

  * New upstream release.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Thu, 26 Jan 2006 13:46:08 +0100

apache2 (2.0.55-4) unstable; urgency=low

  * Add 050_mod_imap_CVE-2005-3352 to escape untrusted referer headers in
    mod_imap before outputting HTML to avoid XSS attacks; see CVE-2005-3352
  * Add 051_mod_ssl_CVE-2005-3357 to avoid a remote denial of service in
    threaded MPMs when making a non-SSL connection to an SSL-enabled port
    on a server with a custom 400 error document defined; see CVE-2005-3357
  * Clean up our use of trailing slashes on directories in debian/rules, so
    the newer, pickier, obviously very improved coreutils doesn't bite us.
  * Remove some cruft from apache2-common's postinst, dealing with upgrade
    scenarios from versions older than those released in Sarge or Warty.
  * Use "SHELL := sh -e" in debian/rules, so the build will stop on shell
    errors, instead of blundering on to later make targets (closes: #340761)
  * Recreate /var/run/apache2 and /var/lock/apache2 in our init script, in
    case the user has /var/run and /var/lock on tmpfs, which is fasionable.
  * Make our init script a /bin/bash script instead of a /bin/sh script, so
    we can abuse it with regex globbing (#348189, #347962, #340955, #342008)
  * Take patch from Adrian Bridgett to output errors from our config test
    in the init script, but only do so when we're VERBOSE (closes: #339323)
  * In the spirit of the LSB, make our init script exit 2 when called with
    incorrect arguments, and exit 4 when asked for status (closes: #330275)
  * Fix the default site to not mix configuration syntax (closes: #345922)
  * Mention apxs2 in the apache2-*-dev long descriptions (closes: #307921)

 -- Adam Conrad <adconrad@0c3.net>  Sat, 26 Nov 2005 19:06:32 +1100

apache2 (2.0.55-3) unstable; urgency=low

  * Brown paper bag release: Tidy up CFLAGS and APR configure call to make
    sure that what we link to agrees with what apu-config tells others to do.

 -- Adam Conrad <adconrad@0c3.net>  Mon, 24 Oct 2005 13:02:52 +1000

apache2 (2.0.55-2) unstable; urgency=low

  * Mess with 010_more_fhs_compliancy to nail down the compiled default for
    cgisock to match with the default shipped in the config file, so people
    don't get confused if they miss including cgid.conf (closes: #316477)
  * Make the compiled-in PidFile match the config file for similar reasons.
  * Add 049_apr_tables_HEAD_cleanup, resolving an issue where merging two
    tables from different resource pools would leave you with the contents
    of only one, rather than both.  This patch also cleans up some broken
    pointer arithmetic and type casting along the way (closes: #251800)
  * Specify the DocumentRoot without a trailing slash (closes: #311317)
  * Fix the manpage to point at proper locations (closes: #307665, #332619)

 -- Adam Conrad <adconrad@0c3.net>  Sun, 23 Oct 2005 13:24:39 +1000

apache2 (2.0.55-1) unstable; urgency=low

  * New upstream bugfix and security release, superseding these patches:
    - Drop 041_util_ldap_fix.patch, util_ldap seems to be unbroken.
    - Drop 043_ssl_off_by_one_CAN-2005-1268, fixed upstream.
    - Drop 044_content_length_CAN-2005-2088, fixed upstream.
    - Drop 045_byterange_CAN-2005-2728, fixed upstream.
    - Drop 046_verify_client_CAN-2005-2700, fixed upstream.
    - Resolves a serious memory leak in the worker MPM; see CVE-2005-2970
    - Add 048_reverse_proxy_fix, to resolve a regression in 2.0.55 with
      mod_proxy, mod_ssl and HTTP POST requests (upstream bug #37145)
  * New release builds cleanly with OpenSSL 0.9.8 (closes: #332791, #333363)
  * Fix up our built-in version of DBS to use find's -{max,min}depth
    arguments in a way that doesn't make find whine like a spoiled child.
  * Merge Ubuntu and Debian packaging, bringing in patch 047 (closes: #327269)
    - Comment out the / -> /apache2-default/ redirect, as user feedback seems
      to indicate that it's just too bloody confusing for most people.
    - New installations (only) now get an AddDefaultCharset UTF-8 directive.
  * Build-depend on lsb-release, and use it in debian/rules to determine which
    distribution we're building on, dropping the 007_debian_advertising patch.
  * Drop debconf dependency entirely; we don't even use it (closes: #331741)
  * Finally support DEB_BUILD_OPTIONS="noopt debug" properly in debian/rules.
  * Adjust mime_magic.conf to point at the new FHS location of magic.mime.
  * Drop the apache2-mpm-threadpool transitional package; Sarge is released.
  * Try a bit harder to find the *CORRECT* PidFile directive in the init
    script, instead of the old "rgrep and pray" method (closes: #303076)
  * Make init script to always use apache2ctl consistently (closes: #316303)
  * Build (and have -dev packages depend on) libdb4.3 instead of libdb4.2.

 -- Adam Conrad <adconrad@0c3.net>  Mon, 17 Oct 2005 13:00:13 +1000

apache2 (2.0.54-5ubuntu2) breezy; urgency=low

  * Add 047_ssl_reneg_with_body, which adds a (bounded) buffer of request
    body data to provide a limited but safe fix for the mod_ssl renegotiation
    vs requests-with-bodies bug, as occurs with POST and SVN (Ubuntu #14991)

 -- Adam Conrad <adconrad@ubuntu.com>  Tue,  4 Oct 2005 11:53:01 +1000

apache2 (2.0.54-5ubuntu1) breezy; urgency=low

  * Resynchronise with Debian, bringing in several security patches.

 -- Adam Conrad <adconrad@ubuntu.com>  Mon,  5 Sep 2005 20:40:31 +1000

apache2 (2.0.54-5) stable-security; urgency=high

  * Add 043_ssl_off_by_one_CAN-2005-1268, fixing an off-by-one error in SSL
    certificate validation; see CAN-2005-1268 (closes: #320048, #320063)
  * Add 044_content_length_CAN-2005-2088, resolving an issue in mod_proxy
    where, when a response contains both Transfer-Encoding and Content-Length
    headers, the connection can be used for HTTP request smuggling and HTTP
    request spoofing attacks; see CAN-2005-2088 (closes: #316173)
  * Add 045_byterange_CAN-2005-2728, to resolve a denial of service in apache
    when large byte ranges are requested; see CAN-2005-2728 (closes: #326435)
  * Add 046_verify_client_CAN-2005-2700, resolving an issue where the context
    of the SSLVerifyClient directive is not honoured within a <Location>
    nested in a <VirtualHost>, and is left unenforced; see CAN-2005-2700

 -- Adam Conrad <adconrad@0c3.net>  Fri,  2 Sep 2005 22:26:28 +1000

apache2 (2.0.54-4) unstable; urgency=low

  * Alter 041_util_ldap_fix.patch to revert util_ldap.c to the known
    good version from 2.0.53 (closes: #308648, and re-fixes #307567)

 -- Adam Conrad <adconrad@0c3.net>  Wed, 11 May 2005 20:15:38 -0600

apache2 (2.0.54-3) unstable; urgency=medium

  * Add 042_htdigest_CAN-2005-1344 to fix a buffer overflow in
    htdigest, which is described in CAN-2005-1344 (closes: #307134)
  * Add 041_util_ldap_fix.patch from upstream bug #34618 to fix
    issues with mod_auth_ldap sometimes segfaulting and sometimes
    locking up and spinning the CPU to oblivion (closes: #307567)
  * Alter 011_fix_ap-config to make apr-config point us at the system
    libtool, and make libapr0-dev depend on libtool (closes: #306481)
  * Alter 008_make_include_safe to prevent apache2 from including dpkg
    conffile leftovers (.dpkg-old et al) (closes: #304786, #296728)

 -- Adam Conrad <adconrad@0c3.net>  Thu,  5 May 2005 03:45:24 -0600

apache2 (2.0.54-2) unstable; urgency=low

  * Set suexec2's ownership properly, so it's actually executable by
    apache2 with the newly-restrictive permissions (closes: #305242)

 -- Adam Conrad <adconrad@0c3.net>  Mon, 18 Apr 2005 22:09:42 -0600

apache2 (2.0.54-1) unstable; urgency=low

  * New upstream bugfix-only release (closes: #305121)
  * Fix debian/watch file to only look at apache 2.0.x, so we stop being
    told about the 2.1 beta releases (and I'll notice new 2.0.x releases)
  * Drop o+rx permissions from suexec2; while it has code in place to
    make sure the caller is www-data, if that code should be buggy,
    filesystem permissions will help mitigate fallout (closes: #301045)
  * Update the 003_build_with_autoconf_2.5 patch to make sure both
    apr and apr-util have an AC_PREREQ for autoconf 2.50, so we don't get
    weird autoconf mix-and-match FTBFS issues (closes: #301819)

 -- Adam Conrad <adconrad@0c3.net>  Sun, 17 Apr 2005 23:10:18 -0600

apache2 (2.0.53-5ubuntu5) hoary; urgency=low

  * Fix the init script to not exit with an error when asked to
    stop a daemon that isn't running (Was the root cause of #8374)

 -- Adam Conrad <adconrad@0c3.net>  Fri,  1 Apr 2005 16:30:56 +0000

apache2 (2.0.53-5ubuntu4) hoary; urgency=low

  * Make sure package removals don't fail even if the init script
    doesn't stop apache2 (Ubuntu #8374)

 -- Adam Conrad <adconrad@0c3.net>  Fri,  1 Apr 2005 15:07:20 +0000

apache2 (2.0.53-5ubuntu3) hoary; urgency=low

  * Add dependency on lsb-base (>= 1.3-9ubuntu2) to guarantee
    availability of lsb init functions (Ubuntu #7765)

 -- Adam Conrad <adconrad@0c3.net>  Sun, 27 Mar 2005 21:55:41 -0700

apache2 (2.0.53-5ubuntu2) hoary; urgency=low

  * Really remove /etc/apache2/conf.d/charset on purge, rather
    than just writing about it in the changelog.

 -- Adam Conrad <adconrad@0c3.net>  Sun, 27 Mar 2005 08:32:39 -0700

apache2 (2.0.53-5ubuntu1) hoary; urgency=low

  * Resynchronise with Debian, resolving minor conflicts.
  * Remove /etc/apache2/conf.d/charset on purge.

 -- Adam Conrad <adconrad@0c3.net>  Sun, 27 Mar 2005 15:15:44 +0000

apache2 (2.0.53-5) unstable; urgency=high

  * Update 040_link_external_pcre to require autoconf 2.50, so it
    doesn't fail when autoconf2.13 is installed (closes: #295428)
  * Further mangle the apache_stop function in the init script so it
    attempts as hard as possible to make sure apache2 is stopped before
    it tries to restart.  Thanks to Andre Tomt <andre@tomt.net> for
    the bug and patch this fix was based on (closes: #295915, #281557)

 -- Adam Conrad <adconrad@0c3.net>  Fri, 25 Feb 2005 00:51:13 -0700

apache2 (2.0.53-4) unstable; urgency=low

  * Add 040_link_external_pcre to allow us to link to an external libpcre
    rather than statically compiling the bundled version.
  * Add --with-external-pcre to the configure flags in debian/rules
    (closes: #294673, #294675, #282606, #294740)
  * Stop hardcoding the path to netstat in postinst (closes: #294737)

 -- Adam Conrad <adconrad@loki.0c3.net>  Mon, 14 Feb 2005 01:45:08 +0000

apache2 (2.0.53-3) unstable; urgency=medium

  * Drop Andres Salomon's PCRE manglig patch in favour of hand-merging
    Joe Orton's patch against head to completely internalise apache's
    copy of PCRE, only exposing a wrapper API.  (closes: #294395)

 -- Adam Conrad <adconrad@0c3.net>  Wed,  9 Feb 2005 11:30:21 -0700

apache2 (2.0.53-2) unstable; urgency=low

  * Make apache2-threaded-dev and apache2-prefork-dev both arch:any
    as they contain architecture-dependant defines (closes: #294257)

 -- Adam Conrad <adconrad@0c3.net>  Wed,  9 Feb 2005 04:20:07 -0700

apache2 (2.0.53-1) unstable; urgency=low

  * New upstream release
    - Remove 036_HEAD_CAN-2004-0942, integrated upstream
    - Remove 037_HEAD_CAN-2004-0885, integrated upstream
  * Drop support for the threadpool MPM, as it's abandoned upstream.
    - Make apache2-mpm-threadpool an empty package depending on
      apache2-mpm-worker, and make worker replace the old threadpool
  * Make SYSCONFDIR configurable at the top of a2{en,dis}{mod,site}
  * Drop the build-conflict on gawk, and use ac_cv_prog_AWK=mawk
    instead (closes: #283396)
  * Make the apache_stop() function stop trying to do the equivalent
    of "killall apache2", and instead issue a nasty warning if it can't
    stop apache2 on its own
  * Make "restart" an alias for "force-reload" in the init script, as
    apache2ctl restart doesn't match policy's requirements for restart
  * Swapping between threaded and unthreaded MPMs could leave one with
    both mod_cgi and mod_cgid enabled.  Fixed the postinsts so that
    no longer happens
  * Update 021-pcre_mangle_symbols.patch from Andres Salomon, now also
    mangling typedefs, which should fix PHP (closes: #280823)
  * Hardcode a dependency on libgcc1 (>= 1:3.3.5) so pthread_cancel
    will work correctly with partial upgrades (closes: #287033)
  * When removing ssl_scache, make sure to remove its db transation logs
    and other garbage as well (closes: #293831)
  * Remove duplicate /icons/ from the default site (closes: #291856)
  * Yank 039_fix_forensic_tmpfiles from Ubuntu's apache2 packages
  * Split out utils into seperate apache2-utils.  This will also
    supercede the apache-utils package (closes: #285219)
  * Add split-logfile to apache2-utils (closes: #290814)
  * Make the MPM postinsts scream loudly, but not fail, if you've
    deleted cgi{,d}.load before swapping MPMs (closes: #283141)

 -- Adam Conrad <adconrad@0c3.net>  Mon,  7 Feb 2005 07:54:12 -0700

apache2 (2.0.52-3) unstable; urgency=high

  * Brown paper bag release to fix apache2-common's postinst, by judiciously
    sprinkling ||true in a couple of needed places (closes: #280527)
  * While hunting for unclean uses of VAR=`command` in the package, found
    the cause of the "can't purge with broken config" bugs and fixed that
    too with yet another ||true (closes: #263511, #273759, #279875)

 -- Adam Conrad <adconrad@0c3.net>  Wed, 10 Nov 2004 01:32:16 -0700

apache2 (2.0.52-2) unstable; urgency=high

  * Include two patches, 036_HEAD_CAN-2004-0942 and 037_HEAD_CAN-2004-0885
    - CAN-2004-0942: Memory leak in header parsing in server/protocol.c
    - CAN-2004-0885: Incorrect SSLCipherSuite selection in mod_ssl
  * Fix up our use of netstat in apache2-common's postinst to clean up some
    unnecessary output to stderr, as well as detect when netstat believes
    we don't have AF_INET support.  This should allow for installation in
    chroots where the /proc filesystem isn't mounted (closes: #245487)
  * Add 035_HEAD_Content-Length_Fix_From_CVS, which should solve problems
    with Content-Length being set incorrectly on proxied HEAD requests,
    breaking Windows Update from proxied machines (closes: #277787)
  * Take out the reload/start magic in the postinst, and just call start in
    all cases, as we stop the daemon in the prerm (closes: #275175, #222786)
  * Copy config.guess/config.sub/ltmain.sh in from /usr/share/libtool at
    build time. (closes: #257228, #263101)
  * Clean up the clean target in debian/rules to remove some duplicate
    maintainer scripts from the debian/ directory that we don't need to be
    shipping in the source package.
  * Move envvars to /etc/apache2/ and add patch 038_no_LD_LIBRARY_PATH to
    remove the extraneous LD_LIBRARY_PATH from envvars (closes: #276670)

 -- Adam Conrad <adconrad@0c3.net>  Sun,  7 Nov 2004 04:09:46 -0700

apache2 (2.0.52-1) unstable; urgency=high

  * New upstream bugfix/security release:
    - Fixes CAN-2004-0811: Satisfy directive bypass (closes: #273412)
  * Add '|| true' to a2enmod to stop it from dying when the installed MPM
    isn't prefork (closes: #273017, #273019, #272865, #273021, #273258)
  * Touch /var/log/apache2/error.log on new installs to ensure that our log
    directory isn't removed until the package is purged, so logrotate doesn't
    complain about its inability to find it (closes: #239571)
  * Add 032_suexec_is_shared, which makes sure suEXEC is only searched for
    and enabled when mod_suexec is loaded (closes: #227653)
  * Use '$APACHE2CTL startssl' consistently in init script to make sure the
    SSL define doesn't disappear on force-reload (closes: #272531)
  * Add 033_dbm_read_hash_or_btree to allow apr-util and dbmmanage to open
    and manipulate DB_BTREE databases, while still defaulting to creating
    DB_HASH databases as before.  This should clear up incompatibilities
    with other applications (such as PHP) which default to DB_BTREE.
  * Moved dbmmanage2 to /usr/bin, instead of /usr/sbin, as it's a user tool.
  * Added 034_ab2_has_openssl, thanks to 2.1-cvs, Fedora, thom, and a bit
    of munging, to compile a working ab2 with SSL support (closes: #261820)

 -- Adam Conrad <adconrad@0c3.net>  Tue, 28 Sep 2004 10:21:20 -0600

apache2 (2.0.51-2) unstable; urgency=high

  * Test for the existence of /usr/sbin/apache2 before we go trying to invoke
    it to determine what MPM we have installed (closes: #272103, #272207)
  * Make the default httpd.conf created in apache2-common's postinst contain
    a fake LoadModule line (commented out), and make apxs2 default to
    installing modules to /etc/apache2/httpd.conf, so people using apxs2
    rather than the mods-{enabled,available} directories get the expected
    behaviour, rather than obscure errors (closes: #167552, #231134)
  * apxs2 now writes the correct path to modules in httpd.conf, including
    the mysteriously missing slash (closes: #231450, #167557)
  * Make apxs2 install modules with mode 644, since 755 makes no sense.
  * Added a bit of magic to a2{en,dis}site to treat the default site as a
    special case and add a "000-" priority to the beginning of its symlink.
    Patches welcome to turn this into something robust, like update-rc.d.

 -- Adam Conrad <adconrad@0c3.net>  Sat, 18 Sep 2004 07:12:12 -0600

apache2 (2.0.51-1) unstable; urgency=high

  * New upstream release, including the following security fixes:
    - CAN-2004-0747: ap_resolve_env buffer overflow
    - CAN-2004-0786: apr_uri_parse segfault in memcpy
    - CAN-2004-0809: mod_dav crash/DoS via NULL pointer dereference
  * Drop the following patches which are now included upstream:
    - 025_CAN-2004-0748.patch
    - 026_CAN-2004-0751.patch
    - 027_autoindex_ignore_bad_files.patch
    - 028_apr_sticky_bits.patch
  * Install a properly sanitised config_vars.mk so that apxs2 behaves in
    a reasonably sane way (closes: #243340, #270768)
  * Relax www-browser dependency to a Suggests, as the mod_status dump from
    apache2ctl is a pretty minor (and oft unused) feature (closes: #269309)
  * init script now allows you to stop (but not start, restart, etc) the web
    server, even if NO_START is set to 1 (closes: #269398)
  * Make the apache2 -> apache2-mpm-* dependency tighter, so it does what
    one expects when installing it (closes: #269580)
  * Remove the ^/doc/apache2-doc/manual(.*)$ /manual$1 RedirectMatch from
    the default site which was confusing and useless (closes: #270216)
  * Add debian/watch file to track upstream versions.
  * Add some magic to a2enmod to map cgi to cgid if using a threaded MPM.
  * Add a2ensite and a2dissite which do the same thing as a2{en,dis}mod,
    but for sites rather than modules (closes: #269251)

 -- Adam Conrad <adconrad@0c3.net>  Wed, 15 Sep 2004 00:09:39 -0600

apache2 (2.0.50-12) unstable; urgency=high

  * Build-depend on mawk, and build-conflict with gawk, as we're only
    guaranteed of having one or the other installed at any given time
    and GNU awk seems to royally mess up the build with regards to which
    external symbols get exported by httpd (closes: #268155)
  * Add myself to the Uploaders field as it seems that, for better or
    worse, I have become a co-maintainer of apache2.
  * Drop the :80 from the default site config, so changing ports in
    ports.conf now Just Works (closes: #253271)
  * Added 029_docroot_manual.patch, which corrects the links in the start
    page to point to /manual/ instead of manual/, so the link actually
    works when apache2-doc is installed (closes: #232954)
  * Add a postrm to apache2-common, implementing a policy-compliant purge
    process (closes: #237030, #252254, #197986)
  * Add a simple RedirectMatch to the "default" site, so that fresh
    installations see the default start page, rather than a directory
    listing (closes: #240772, #255974, #264070)
  * Add 030_www-browser_apachectl.patch, and make apache2-common depend
    on www-browser, so 'apache2ctl status' works (closes: #266724)
  * Move apache2's (re)start from the apache2-common postinst to the MPM
    postinsts, so we're not trying to start the old binary if apache2-common
    is configured before apache2-mpm-* is unpacked (closes: #268936)
  * Enable CGI on initial installation, as packages depending on httpd-cgi
    require it to be running to work (closes: #267547, #263038)
  * Only enable userdir on upgrades from older versions where it was
    built-in, or on fresh installs.

 -- Adam Conrad <adconrad@0c3.net>  Mon, 30 Aug 2004 17:40:47 -0600

apache2 (2.0.50-11) unstable; urgency=high

  * Add two patches from upstream to address two vulnerabilities in mod_ssl:
    - CAN-2004-0748 is a potential infinite loop in the SSL input filter
      which can be triggered by an aborted connection.
    - CAN-2004-0751 is a potential segfault in the SSL input filter which
      can be triggered by the response to request which is proxied to a
      remote SSL server.
  * Changed the ownership of /var/cache/apache2 to allow mod_proxy to
    actually cache files (closes: #264622)
  * Added a patch from upstream to make mod_autoindex skip over files that
    it can't stat() (closes: #264645)
  * New installations now get an /etc/default/apache2 file with a moderately
    informative comment, and the default set sanely (closes: #263515)
  * Added a patch from upstream to make APR stop creating directories with
    the sticky bit set (closes: #266198)
  * Remove the bogus "-e" from the echo that creates httpd.conf, so people
    installing with ash/dash don't get a broken file (closes: #267693)

 -- Adam Conrad <adconrad@0c3.net>  Mon, 23 Aug 2004 19:25:50 -0600

apache2 (2.0.50-10) unstable; urgency=high

  * Roll back the libapr0 ABI changes introduced in 2.0.50-9.  We were
    hopeful that we could hunt down and fix any fallout from this change
    before release, and we were, apparently, wrong.
    (closes: #266211, #266145, #266165, #266330, #266230, #266279, #266736)

 -- Adam Conrad <adconrad@0c3.net>  Thu, 19 Aug 2004 03:46:11 -0600

apache2 (2.0.50-9) unstable; urgency=medium

  * Enable LFS properly. (Closes: #264645, #244897)
    - Added 023_largefiles_upstream_fixes which makes the upstream configure
      script a bit smarter and fixes some misuses of size_t/off_t.
    - Added 024_largefiles_debian_hacks which adds some hideous hackery to
      work around a bug in glibc where sendfile64 is used in place of sendfile
      with no fallback even if the current kernel doesn't support it.
    - Add note to README.Debian noting that while we can now read, write, and
      list large files, SERVING large files is kernel-dependant.
  * Bump libapr0 shlibs to (>= 2.0.50-9), since we're introducing
    some serious ABI breakage with the above changes.
  * Fix up the PATH in apache2's init script to list /usr/local, /usr, /
    in the standard order.
  * Change misleading return messages for a2{en,dis}mod, to reflect
    the reality that some modules just won't load/unload properly
    without a full stop/start server cycle.

 -- Adam Conrad <adconrad@0c3.net>  Sun, 15 Aug 2004 07:41:19 -0600

apache2 (2.0.50-8) unstable; urgency=high

  * Ensure we link against the correct version of DB42

 -- Thom May <thom@debian.org>  Mon,  9 Aug 2004 14:37:38 +0100

apache2 (2.0.50-7) unstable; urgency=high

  * Fix up linking of apr-util (Closes: #262009)

 -- Thom May <thom@debian.org>  Tue,  3 Aug 2004 12:42:53 +0100

apache2 (2.0.50-6) unstable; urgency=high

  * use 'env -i' rather than trying to parse env (Closes: #261558, #258713)
  * revert to old build process (Closes: #260756, #259693)
  * Reflect changes in ssl setup - Thanks, Bj√∂rn Wiberg (Closes: #259414)
  * Remove userdir config from main config file (Closes: #260058)

 -- Thom May <thom@debian.org>  Tue, 27 Jul 2004 10:31:46 +0100

apache2 (2.0.50-5) unstable; urgency=high
  
  * Add necessary suexec information to central build
    (Closes: #258453, #258772)
  * Exclude lines starting with a space from removal from the env
    (Closes: #258713)

 -- Thom May <thom@debian.org>  Mon, 12 Jul 2004 17:30:59 +0100

apache2 (2.0.50-4) unstable; urgency=high

  * Fix dependencies so the MPMs don't conflict with the metapackages *g*
    Thanks to Adam Conrad for this catch

 -- Thom May <thom@debian.org>  Fri,  9 Jul 2004 00:55:19 +0100

apache2 (2.0.50-3) unstable; urgency=high

  * Brown paper bag of epic proportion. Build all mpms with the proper
    collection of libraries. (Closes: #258217, #258202)
  * Clean up environment (Closes: #241579)
  * Clarify prefork description (Closes: #252918)
  * Make apache2-default/manual DTRT (Closes: #244847)
  * Note that we don't ship INSTALL or README.platforms (Closes: #232956)

 -- Thom May <thom@debian.org>  Thu,  8 Jul 2004 16:04:31 +0100

apache2 (2.0.50-2) unstable; urgency=high

  * Make a2enmod a bit more robust (Closes: #258149, #258145)
  * Should really be urgency=high to get into testing quick

 -- Thom May <thom@debian.org>  Wed,  7 Jul 2004 23:03:36 +0100

apache2 (2.0.50-1) unstable; urgency=medium

  * New upstream release, fixes [CAN-2004-0493] and [CAN-2004-0488]
  * The "I can't believe you're late to your own raid" release
  * Check whether verbose is on or off in rcS's config (Closes: #242351)
  * Add an apache2 metapackage (Closes: #234955)
  * Specifically disable /~root (Closes: #246139)
  * Stop the daemon in prerm (Closes: #245488)
  * Redirect /doc/apache2-doc/manual to /manual so the correct magic happens
    (Closes: #248038)
  * Update SSL config to current upstream (Closes: #234591,#231147)
  * No longer install default cgis - they're already shipped in -doc as
    examples. (Closes: #231665)
  * Tighten regex for Include (Closes: #234489)
  * Remove ext-filter.load since we ship ext_filter.load too (Closes: #249268)
  * Enable userdir as a shared module (Closes: #251102, #246134)
  * OSKURO SUCKS (otherwise known as: not a bug) (Closes: #208569)
  * Create /var/lib/apache2 (Closes: #242169)
  * Remove 'AddDefaultCharset' line from apache2.conf (Suggestion from Marco
    D'Itri)

 -- Thom May <thom@debian.org>  Tue,  6 Jul 2004 18:45:35 +0100

apache2 (2.0.49-1) unstable; urgency=high

  * New Upstream release. (Closes: #240100)
  * Add missing $ to init-script (closes: #240301) 
  * Provides: httpd-cgi in reference to #117916 

 -- Thom May <thom@debian.org>  Sun,  4 Apr 2004 11:32:20 +0100

apache2 (2.0.48-8) unstable; urgency=low

  * Fix typo in debian/rules (closes: #230760)
  * Added patch 021-pcre_mangle_symbols.patch (closes: #235810)
  * Fixed typo in the init scripts (closes: #230263)
  * Changed a bunch of mv's to cp's in rules (closes: #228840)
  * Change mime_magic to use magic from libmagic1 (closes: #236509)
  * Disable ssl-cert until it sucks less. related to 230791 (closes: #231726)
  * update descriptions (closes: #234543, #234538, #234542)
  * Nuke /etc/vhosts and all associated cruft (closes: #235029)

 -- Thom May <thom@debian.org>  Mon,  2 Feb 2004 12:47:10 +0000

apache2 (2.0.48-7) unstable; urgency=low

  * Brown paper bag release.  Refix the nonfixed libapr0 which built
    without linking information.

 -- Tollef Fog Heen <tfheen@debian.org>  Fri, 30 Jan 2004 18:25:12 +0100

apache2 (2.0.48-6) unstable; urgency=low

  * Build-Conflict with gdbm (closes: #230226, #230175, #204672)

 -- Tollef Fog Heen <tfheen@debian.org>  Fri, 30 Jan 2004 12:24:09 +0100

apache2 (2.0.48-5) unstable; urgency=low

  * (Daniel Stone)
    - Bump Standards-Version to 3.6.1.0.
    - init-script: Print a small warning when NO_START=1. (closes: #178431)
    - default site: Enable FollowSymLinks. (closes: #200829)
  * (Thom May)
    - Permanently kill the ErrorLog directive from ssl.conf
    - Call ssl-cert to generate an SSL cert using debconf (closes: #178322)
    - Allow /usr/share/doc/ to be viewable from localhost (closes: #222551)
    - Set the default DocumentRoot to be /var/www (closes: #222552)
    - Change where the init script is installed to (Closes: #223417)
    - Upgrade to DB4.2
  * (Tollef Fog Heen)
    - handle building out of the SVN checkout.

 -- Tollef Fog Heen <tfheen@debian.org>  Wed, 28 Jan 2004 00:13:13 +0100

apache2 (2.0.48-4) unstable; urgency=medium

  * (Daniel Stone)
    - Change apache2-threaded-dev's Conflicts from apache2-perfork-dev to
      apache2-prefork-dev. Learn how to type, dude (thanks to Grzegorz
      Prokopski for spotting this one).

 -- Daniel Stone <daniels@debian.org>  Mon, 17 Nov 2003 12:00:11 +1100

apache2 (2.0.48-3) unstable; urgency=medium

  * Grmmp. stuffed the upload  

 -- Thom May <thom@debian.org>  Wed, 12 Nov 2003 18:18:54 +0000

apache2 (2.0.48-2) unstable; urgency=high

  * (Thom May)
    - Fix locking busted by NPTL (Closes: #220299)
    - Fix IPv6 weirdness (thanks to Jordi/Fabio) (Closes: #220334)
    
 -- Thom May <thom@debian.org>  Wed, 12 Nov 2003 13:04:04 +0000

apache2 (2.0.48-1) unstable; urgency=low

  * (Thom May)
    - New Upstream Release (Closes: #202094)
    - Fix i18n autonegotiation for the manual (Closes: #201648)
    - Add deb.{gif,png} (Closes: #199454)
    - Explicitly link against libdl (Closes: #195968)
    - Add dependency on ssl-cert (Closes: #177837)
    - Take preventative action against SCTP
    - Add apache2-prefork-dev to work around PHP.
    - Shut Oskuro up - startup time changed to 91 (Closes: #208569)
    - Install README.etc into apache2-common's doc dir 
      (Closes: #208751,#177941)
    - Auth_LDAP loads mod_ldap as well. (Closes: #217795)
    - Make sure /var/lock/apache2 has correct ownership (Closes: #206375)
    - Fix for SSL enabled virtual hosts (Closes: #202925)
    - Steal new apr_threads.m4 from upstream to deal with -lpthread better
      (Closes: #197685)
  * (Fabio M. Di Nitto)
    - Fixed init script (Closes: #203093)

 -- Thom May <thom@debian.org>  Sat, 16 Aug 2003 00:13:20 +0100

apache2 (2.0.47-2) unstable; urgency=low

  * Move dav.conf to dav_fs.conf (Closes: #201530) 
  * Fix the manual, and only ship it once. (Closes: #201648)
  * Enable SymLinksIfOwnerMatch for cgi-bin (Closes: #200829)

 -- Thom May <thom@debian.org>  Wed, 16 Jul 2003 10:24:28 +0100

apache2 (2.0.47-1) unstable; urgency=high

  * New Upstream Release. Bunch of security fixes (Closes: #200593)
  * Add asis.load, auth_ldap.load, cache.load, dav_fs.load, disk_cache.load, 
    ext_filter.load, file_cache.load, imap.load, ldap.load, mem_cache.load, 
    include.load (Closes: #197152, #198389, #196115)
    Note that dav_fs was previously loaded by dav.load, and is now broken out
    into a seperate file.
  * Patch apxs2 to use datadir rather than prefix for top_builddir. 
    (Closes: #198607)
  * Kill a couple of pointless conflicts. (Closes: #197242)
  * Change suexec docroot from /var/www/apache2-default to /var/www 
    (Closes: #198981)
  * Make sure we use Expat rather than xmltok (Closes: #197020)
  * Ship find_ap{r,u}.m4 (per Nuutti Kotivuori)

 -- Thom May <thom@debian.org>  Fri,  4 Jul 2003 13:40:37 +0100

apache2 (2.0.46-3) unstable; urgency=low

  * Clean up the proxy config although it's not enabled by default. 
    (Closes: #195187)
  * Remove all traces of gdbm. (Closes: #196231)
  * Re-enable ldap support (Closes: #190092)
  * This changelog should be policy compliant. Any whingers can take a long
    hike off a short pier.
  * use printf rather than echo to work round weird shells. (Closes: #196230)

 -- Thom May <thom@debian.org>  Thu,  5 Jun 2003 19:26:21 +0100

apache2 (2.0.46-2) unstable; urgency=critical

  * Fix config_vars.mk creation and installation (Closes: #195141, #195190)

 -- Thom May <thom@debian.org>  Thu, 29 May 2003 11:47:13 +0100

apache2 (2.0.46-1) unstable; urgency=critical

  * The "David Welton is my hero" release
  * New upstream release, numerous security vulns fixed.
  * Oh the pain.
  * Move ScriptSocket to /var/run/apache2 (Closes: #188655)
  * Restore mod_include (Closes: #188483)
  * Move the virtual hosts config to the end of the config file 
    (Closes:  #188584)
  * Add Mod-Ext-Filter (Closes: #182770)
  * Add actions.load (Closes: #178087, #179571, #181527)
  * Add a dependency on net-tool (Closes: #190663)
  * Clean up FHS compliancy and fix up a typo in apachectl (Closes: #187723)
  * Fix for the apxs -q APR_BINDIR doesn't work problem (Closes: #188278)
  * Special case the install of special.mk (Closes: #179776)
  * Make apache2-dev and apache-dev not conflict. (This renames apxs back to
    apxs2)
  * Add README for /etc/apache2 written by David.
  * Add auth_digest.load courtesy of Amelia A Lewis <amyzing@talsever.com>
    (Closes: #194111)

 -- Thom May <thom@debian.org>  Wed, 28 May 2003 14:17:21 +0100

apache2 (2.0.45-3) unstable; urgency=critical

  * another "stupid freaking sasl" release. the series is on!

 -- Thom May <thom@debian.org>  Tue,  8 Apr 2003 17:13:09 +0100

apache2 (2.0.45-2) unstable; urgency=critical

  * the "stupid freaking sasl" release.
  * fix override disparities too.
  * fix dulpicate dependency on libssl0.9.7 (Closes: #179598)

 -- Thom May <thom@debian.org>  Tue,  8 Apr 2003 13:34:44 +0100

apache2 (2.0.45-1) unstable; urgency=critical

  * New upstream release (Closes: #187502)
  * Fix korean language type, thanks to Donggyoo Lee
    <donggyoo@kmaritime.ac.kr> (Closes: #179542) 
  * Add explicit dependency to libsasl-dev (Closes: #179674)
  * Remove ErrorLog from ssl.conf
  * forward ported patches courtesy of Roberto Moreda <moreda@debian.org>; big
    thanks!

 -- Thom May <thom@debian.org>  Sat,  5 Apr 2003 14:35:58 +0100

apache2 (2.0.44-6) unstable; urgency=low

  * Make APR's postinst idempotent (Closes: #178105, #178141)
  * Make Apache2-common's postinst non interactive (Closes: #178551)
  * People filing bugs after they're fixed should be shot (Closes: #178244)
  * Build Logio into the core, apparently.

 -- Thom May <thom@debian.org>  Mon, 27 Jan 2003 20:47:28 +0000

apache2 (2.0.44-5) unstable; urgency=low

  * The "someone should take my compiler away from me" release
  * Depend on openssl as well. Grrr. (Closes: #177985)
  * Clean up the last of the section mismatches

 -- Thom May <thom@debian.org>  Thu, 23 Jan 2003 15:04:20 +0000

apache2 (2.0.44-4) unstable; urgency=low

  * The "going for broke" release.
  * Enable Logio, suggested by Roberto Moreda
  * Stop force loading of cgi modules. (until we can do it cleanly)
    (Closes: #177876, #177795)
  * Restore symlink for libapr.so.0 (Closes: #177792)
  * Apache2-common must depend on libssl0.9.7 (Closes: #177845)
  * Rename ssl-certificate so we don't conflict with apache-ssl 
    (Closes: #177881)
  * Only create the certificate if it's not there already (Duh!)

 -- Thom May <thom@debian.org>  Wed, 22 Jan 2003 09:59:11 +0000

apache2 (2.0.44-3) unstable; urgency=low

  * The "This one goes out wearing a brown paper bag" release
  * Fix apxs to correctly return the header locations (Closes: #177729) 

 -- Thom May <thom@debian.org>  Tue, 21 Jan 2003 16:35:14 +0000

apache2 (2.0.44-2) unstable; urgency=low

  * The "Ooops, I did it again" release
  * Fixup of sections and priorities. 
  * Add dependency of libldap2-dev to libapr0-dev
  * Correct dependencies to be db4.1 not db4.0

 -- Thom May <thom@debian.org>  Tue, 21 Jan 2003 13:26:57 +0000

apache2 (2.0.44-1) unstable; urgency=low

  * Conform to 10.4 of policy re init scripts, (Closes: #165693)
  * Be more selective about filenames when doing Include
    Patch - 008_make_include_safe (Closes: #161512)
  * Make HTMLTable validate, and add a note recommending its use.
    (Patch submitted upstream and will be in 2.0.44)
    Patch - 010_fix_html_table (Closes: #153593)
  * Make apr have correct library versioning
    Patch committed upstream
    Patch - 011_make_apr_versioned (Closes: #162775)
  * Placed packaging code under subversion change management
    http://svn.positive-internet.com/svn/apache2/trunk
  * Changed some bash scripts to use #!/bin/bash rather than #!/bin/sh
    (Closes: #168338)
  * Changed apache2-common to merely suggest apache2-doc (Closes: #167595)
  * Patch from David Kimdon to clean up debian/scripts/*
  * Rename apxs2 to apxs; conflict with apache-dev (Closes: #167550)
  * Upstream fix for AllowOverride documentation (Closes: #169431)
  * Tighter build dependency on debhelper (Closes: #170803)
  * Only reload in logrotate if apache2 is actually running (Closes: #171095)
  * Upstream Fix for AddOutputFilterByType documentation (Closes: #172294)
  * Add robots.txt to apache2-common (Closes: #172592)
  * Enable cgi in postinst (Closes:  #168709)
  * Create an SSL Certificate on install (Closes: #168109)
  * Fix a couple of typos in debian/ssl-certificate, with thanks to Nuutti
    Kotivuori
  * Change to restart rather than reload in logrotate, to work round a nasty
    PHP bug (PHP has bugs? *gasp* I thought it was perfect!) with thanks to 
    Adam Conrad for the suggestion
  * Clarify what needs to be installed for a working system (Thanks to Sean
    Abrahams)
  * Support debug DEB_BUILD_OPTIONS setting, thanks to Karl Hegbloom 
    (Closes: #174221)
  * Add -pipe to the CFLAGS, thanks to Karl Hegbloom
  * Force apr-util to build against db4
  * add OSX finder to the list of things that needs to be redirect-carefully'd
  * s/enabled/disabled in debian/a2-scripts/a2dismod (Closes: #173956)
  * enable auth-ldap, auth-anon, auth-dbm, auth-digest, and action as shared
    modules (Closes: #172044, #174583, #172093)
  * Upgrade to Berkely DB 4.1
  * Upgrade to OpenSSL 0.9.7
  * Add patch to ensure DB4.1 --with-unique-names is picked up. (Committed
    upstream)
  * Add local apache2 and apache2ctl manpages, since upstream have removed
    them.

 -- Thom May <thom@debian.org>  Mon, 20 Jan 2003 11:14:43 +0000

apache2 (2.0.43-1) unstable; urgency=medium

  * New Upstream Release; Fixes: CVE: CAN-2002-0840 CERT: VU#240329
  * Add extra config to unfuck perchild. hopefully.
  * Rejig Proxy Config some. With thanks to: Emmanuel Chantreau (Closes: #163124)
  * Fix cgi install. Thanks to: Bastian Kleineidam (Closes: #162791)
  * Fix postinst to check installation type and behave accordingly (Closes: #162627)
  * Bring product version into line with RFC2616 (Closes: #151384)
  * Add allow line for ipv6 localhost (Closes: #163533)
  * Make more of the modules modular.
  * Set UseCanonicalName off
  * Added index.xhtml to DirectoryIndex settings
  * Enabled MultiViews in the default site, and for the manual (Closes: #160367)
  * Removed Unnecessary cgi.conf (Closes: #163842)

 -- Thom May <thom@debian.org>  Fri,  4 Oct 2002 21:47:18 +0100

apache2 (2.0.42-2) unstable; urgency=low

  * Tighten dependencies yet more
  * Restart in postinst. don't stop in prerm and start in postinst (Closes: #162344, #162350, #162537)
  * Fix dh_shlibdeps up
  * PERCHILD IS NOT WORKING IN THIS RELEASE. DON'T EXPECT IT TO. BUGS ABOUT
    THIS WILL BE CLOSED WITH EXTREME PREJUDICE.

 -- Thom May <thom@debian.org>  Fri, 27 Sep 2002 13:06:59 +0100

apache2 (2.0.42-1) unstable; urgency=low

  * "Pretty. What shall we blow up?"
  * New Upstream Version (Closes: #160364)
  * Fix man names and sections (Closes: #157113)
  * Correct the regex for netstat checking of ports, thanks to Matthew Hambley
    for this.
  * Correct dependencies for apache2-common. (Closes: #161793)
  * Applied patch from Stefan Gybas to fix a2enmod (Closes: #159459)
  * Added BrowserMatch directives for microsoft's bodgy DAV implementations
    and also for gnome-vfs (Closes: #155097)
  * Loosened the config for home directories (Closes: #153599)
  * Updated to latest standards version
  * Drop priority to extra to bring it in line with libdb4.0
  * Added logrotate script - Thanks to Phil Edwards for the basic version, and
    the apache package that I ripped the rest off from (Closes: #155488)
  * Tighten up what the Include lines load some. This is related to #161512
    but doesn't completely close it.

 -- Thom May <thom@debian.org>  Sat, 21 Sep 2002 22:14:22 +0100

apache2 (2.0.40-1) unstable; urgency=low

  * New Upstream Version
  * Correct dependencies. (Closes: #156959)
  * Code to check for something else listening on 80 (Closes: #156129)
  * correct permissions on suexec2 man page (Closes: #157005)
  * Make the start and stop targets use apache2 directly rather than
    apache2ctl.
  * Check for the existence of apache2 and exit if it's not there (Closes: #156640)
  * Nuke ssl_scache on startup (Closes: #157445)
  * patch apxs to not need an mpm installed. Correct dependencies for -dev. 
    Stop messing around with ap_config_auto.h. 
    This hopefully resolves James Troup's objections to apache2. (Closes: #157895)
  * Add code to check for a 2.2 based kernel and set up the Scoreboard
    accordingly. (Closes: #156899)
  * make sure i only have to update one init.d script, rather than 4.
  * make apxs return a correctly formatted response on queries.

 -- Thom May <thom@debian.org>  Wed, 21 Aug 2002 14:21:14 +0100

apache2 (2.0.39+cvs.1028741220-2) unstable; urgency=low

  * Rebuild against new libc6. Grr. (Closes: #155865)
  * Actually create /etc/apache2/httpd.conf
  * Propagate init.d changes through the other MPMs.

 -- Thom May <thom@debian.org>  Thu,  8 Aug 2002 09:19:49 +0100

apache2 (2.0.39+cvs.1028741220-1) unstable; urgency=low

  * New Upstream Version
  * Make a versioned depends on libapr0 (Closes: #154879, #155400)
  * Ensure that /etc/init.d/apache2 is registered properly.
  * Added a conf.d directory for random conf snippets
  * Ensure that the /manual/ alias is setup by the correct package (Closes: #155179)
  * Ensure that DAVLockDB is created in the right directory (Closes: #155096)
  * Now Building in a pbuilder chroot environment. 
  * Perchild is now pseudo working (Closes: #154148)
  * Cumulatively (note to Lazarus Long: this means all the things in this
    changelog added together) (Closes: #155297, #155307, #155317, #155717, #155363, #155719, #155801)
  * Note that preceeding changelog entry may not be parseable by strict grammar 
    checks. Thanks to Jamie Wilkinson for pointing this out.
  * Turn MultiViews back on for the default site (Closes: #155450)
    checks. Thanks to Jamie Wilkinson for pointing this out.
  * Turn MultiViews back on for the default site (Closes: #155450)
  * Removed all CVS directories (Closes: #155602, #155393, #155402)
  * SSI has been fixed upstream (Closes: #151744)
  * Removed SSLLog directives (Closes: #152940)
  * Put icons in the right place (Closes: #155178)
  * Fixed build-dep on libgdbmg1-dev (Closes: #155412)
  * Get correct information into config_vars.mk (Closes: #151712)
  * Removed 'ServerName localhost' line (Closes: #155359)
  * Placed apr-util headers in correct package
  * Ensured that the init.d script restarts apache properly
  
 -- Thom May <thom@debian.org>  Tue, 30 Jul 2002 22:37:52 +0100

apache2 (2.0.39+cvs.1027964860-1) unstable; urgency=low

  * New Upstream Source
  * Correct Icons path (Closes: #151314)
  * Add missing dep on mime-support (Closes: #151848, #152220, #152221, #151772)
  * Fixup suexec2, thanks to Masahito Omote (Closes: #151422)
  * Mark Brown
    - Remove spurious claim that apache2 hasn't been uploaded (Closes: #151433)
    - Bring apache2 in line with policy on /usr/share/doc/ (Closes: #151459)
    - Make reload behave the same as force-reload (Closes: #151432)
  * place the manual in the right place, thanks to Md  (Closes: #151766)
  * David Kimdon
    - add build depends on zlib1g-dev (Closes: #151286)
    
 -- Thom May <thom@debian.org>  Fri, 29 Jul 2002 19:12:56 +0100

apache2 (2.0.39-1) unstable; urgency=low

  * New Upstream Version, fixing a denial of service attack.
  * Fix installation of icons and manual.
  * David Kimdon
    - fix path for envvars in apxs2
    - use generalized directives in ssl.conf ( SSLLog -> ErrorLog,
      SSLLogLevel -> LogLevel ), this allows server to load ssl 
      module

 -- Thom May <thom@debian.org>  Fri, 14 Jun 2002 17:29:59 -0700

apache2 (2.0.37-2) unstable; urgency=low

  * Updated Copyright file to actually contain a copy of the various licenses.

 -- Thom May <thom@debian.org>  Fri, 14 Jun 2002 15:41:41 +0100

apache2 (2.0.37-1) unstable; urgency=low

  * New upstream version

 -- Thom May <thom@debian.org>  Thu, 13 Jun 2002 17:47:12 +0100

apache2 (2.0.37+cvs.JCW_PRE2_2037-1) unstable; urgency=low

  * New upstream release

 -- Thom May <thom@debian.org>  Wed,  5 Jun 2002 12:42:34 +0100

apache2 (2.0.36-2) unstable; urgency=low

  * debian/control - Correct provides, conflicts and depends, especially for
    the mpms.
  * build-dep doesn't work with provides, which makes sense. Need to make a
    note of this in the policy.
  * debian/rules - ensure that the mpm specific header file is installed into
    the right place

 -- Thom May <thom@debian.org>  Fri, 31 May 2002 14:54:39 +0100

apache2 (2.0.36-1) unstable; urgency=low

  * The "The obviously begging in a changelog works" release.
  * New Upstream release
  * Vpath Builds now work, giving the ability to select which MPM you require
  * Changed vhost base to only be a Recommends: as I'm not happy that it's
    currently in a properly releasable state.
  * New enhost script courtesy of DannyS.
  * David Kimdon
    - make apxs2 find envvars properly
    - use libtool to install apache2 binaries for different mpm's
    - fix dependancies for apache2-dev (we can't do a versioned 'Provides'
      so we need to list all the packages that provide apache2 along
      with their version)
  * Implemented a long overdue suggestion to only create ports.conf if it's
    not in existance already, rather than to add a command to listen on 80 iff
    that didn't exist. The person who suggested it is lost in the mists of my
    mailbox. If it was you, please email me!
  * debian/vhost-base/add.d/apache2 - apply patch from "Omniflux"
    <josh@nebonet.com> to fix some brainos 

 -- Thom May <thom@debian.org>  Mon,  6 May 2002 16:39:18 +0100

apache2 (2.0.35+cvs.20020420-1) unstable; urgency=low

  * The "finding myself standing on the corner staring into a different world"
    release. Will someone please give me a job?
  * Resync with upstream CVS. lots and lots of bug fixes since the last
    release.
  * Attempting to build with multiple MPMs, so speedfreaks can have a threaded
    MPM. (Available MPMs are: prefork, worker, threadpool, and
    leader/follower).
  * Now sedding ap{r,u}-config in the install target. 
  * vpath build evilness suggested by Andrew Suffield and others. I hate them
    all. :) 

 -- Thom May <thom@debian.org>  Sat, 20 Apr 2002 17:04:46 +0100

apache2 (2.0.35-2) unstable; urgency=low

  * The "Apache2 isn't released, therefore the Bug Tracking System doesn't
    bloody well work" release
  * Fixes a bug in add host, due to the change from Port to Listen.
    (Reported by numerous people, patch more or less from Esteve Fernandez
    <esteve@sindominio.net>.
  * Attempt to fix apu-config, suggestion and patch from David Kimdon, if it's
    wrong, I broke it. (Changed it to apply pre-build, rather than post build.
    Yes, it's the lazy approach. It's also the right one :) )
  * THE BUG TRACKING SYSTEM IS NOT THE RIGHT PLACE TO SEND BUG REPORTS FOR
    APACHE2.
  * REALLY.

 -- Thom May <thom@debian.org>  Sat,  6 Apr 2002 21:04:16 +0100

apache2 (2.0.35-1) unstable; urgency=low

  * WOOOOOOOOOOOHOOOOOOOOO! Apache2's first General Availability release!
  * Various bug fixes, suggestions and so on.
  * Built with db3 for the time being.

 -- Thom May <thom@debian.org>  Sat,  6 Apr 2002 03:01:24 +0100

apache2 (2.0.34+retag-1) unstable; urgency=low

  * Resync with upstream release.
  * Fix packaging-fus (Hi Marcello!)
  * Upstream have fixed cgi probs.

 -- Thom May <thom@debian.org>  Mon,  1 Apr 2002 14:50:12 +0100

apache2 (2.0.34-1) unstable; urgency=low

  * New upstream release
  * added mod_deflate as a shared library
  * bashed on apache2.conf some.

 -- Thom May <thom@debian.org>  Tue, 26 Mar 2002 23:23:09 +0000

apache2 (2.0.33-1) unstable; urgency=low

  * New upstream.
  * Unfucked all code, include init.d and /etc/vhosts.
  * FHS'ified, more or less
  * Some debconf, but not much.
  * Merged more patches upstream

 -- Thom May <thom@debian.org>  Sat,  9 Mar 2002 23:33:09 +0000

apache2 (2.0.32+cvs.20020228-1) unstable; urgency=low
  
  * The "bathwater, no baby" release.
  * Submitted patches upstream like crazy.
  * Tossed the insanely bogus apachectl patch
  * Debconf not included here. Want to get everything else right, and a
    release out.
  * Boom!

 -- Thom May <thom@debian.org>  Thu, 28 Feb 2002 21:07:24 +0000

apache2 (2.0.32-1) unstable; urgency=low

  * The "Throwing stuff away like mad and seeing if it still builds" release. 
  * Ditched apache2-modules* on the principle of least surprise - the deb
    layouts now pretty closely follow apache.
  * Trying to triage away patches that have been fixed upstream.
  * Major attack on debconfiscation starts here -> .

 -- Thom May <thom@debian.org>  Tue, 19 Feb 2002 20:37:58 +0000

apache2 (2.0.31+cvs.20020217-1) unstable; urgency=low

  * New CVS snapshot from HEAD to benefit Subversion for the impending 0.9
    release. Enjoy! 81 lines in the last couple of days ... :)
  * debian/patches/005_more_hardcoded_paths:
    - Regenerated diff against newer version of mpm_default.h.
  * debian/patches/008_apr-config_sucks
    - Regenerated apr-util part of diff against newer version of
      apu-config.in.
  * debian/apache2.{config,templates,postinst},
    debian/vhost-base/add.d/apache2,
    debian/vhost-base/templates.d/apache2{,.in}, debian/rules:
    - Debconfage asking which port to run on, and make the vhost-base script
      only list the current ports; ports stuff moved to
      /etc/apache2/ports.conf - re-enable dh_installdebconf in debian/rules.
    - Moved templates.d/apache2 to templates.d/apache2.in so we can do some
      nifty inplace regexps.
  * debian/apache2.init.d:
    - Bail out of the init script if there aren't any sites enabled.
  * debian/{rules,control}:
    - Get rid of apache2-modules; move its contents to apache2.
  * debian/config-mods/cgid.conf:
    - Get rid of redundant <IfModule> wrapper around ScriptSock, so it
      actually loads. Thanks to Pieter "Pitr" Jansen for this one.

 -- Daniel Stone <daniel@sfarc.net>  Sun, 17 Feb 2002 01:23:43 +1100

apache2 (2.0.31+cvs.20020207-1) unstable; urgency=low

  * The one-big-happy-apache2-bug-squashing-family release.
  * Update to latest CVS; hopefully this won't mean that piro deadlocks every
    time dpkg goes to read its database. Hopefully this gets rid of the bugs.
    Yes, all of them.
  * debian/patches/004a_srclib_layout_support:
    - Updated a touch to fit in with .32-dev.
  * debian/patches/008_stuff_in_sbin_not_bin:
    - Removed; obsoleted by upstream discovering sanity.
  * debian/patches/008_apr-config_sucks:
    - Fix problem whereby @prefix@ would sub to $(prefix), but $(prefix)
      wouldn't sub to the prefix, or ${prefix}, thus screwing up the running
      of apr-config ... ditto for apu-config (from apr-util).
  * debian/patches/009_apxs:
    - Reworked to make it actually work, and apply cleanly.
    - Fix libtool breakage once again, thanks David Kimdon.
  * debian/patches/010_shmget:
    - Hack to srclib/apr/apr.h.in to make it prefer shmget over everything
      else, to make it 2.2/non-tmpfs safe. (Thanks Ben Collins).
  * debian/patches/012_debian_version:
    - Minor update (include a space in front of "Debian", change it to
      "Debian GNU/Linux" to clarify things, and before the the Hurd [happy
      now, you crack junkies?] people complain, it's not released as a Debian
      port yet, so feh).
  * debian/vhost-base/add.d/apache2:
    - Change sites to sites-available, in line with the previous change.
  * debian/config/mods-available:
    - Move to debian/config-mods to make life easier with the move to
      apache2-modules (see below).
  * debian/config-mods/auth_dbm.load:
    - New file, in line with introducing mod_auth_dbm; thanks again to David
      Kimdon.
  * debian/a2-scripts/a2{en,dis}mod:
    - Rewritten to be much cleaner and cool. (Thanks to Ben Collins for
      pointing out that the permissions were screwed).
  * debian/apache2.postinst:
    - New file, no #DEBHELPER# token so that we don't care if postinst fails;
      this way it won't bail if you're already running another web server.
      Thanks to David Kimdon for pointing out an error.
  * debian/vhost-base/{enable,disable}.d/apache2:
    - Fixed! Woot! The code isn't the best you'll see, but now *WORKS*. Whoo!
  * debian/control:
    - Extend libapr-dev's Depends to include libapr0 (duh).
    - Remove apache2-modules-dev as modules are no longer built both shared
      and static, IMHO this was quite braindead behavior. Upstream's change,
      not mine.
    - Remove apache2-support as apxs2 requred apache2 anyway. Chalk one (more)
      down for "failed experiments".
    - Removed redundant libssl0.9.6 and libxmltok1 build-deps; we already
      build-depped on the relevant -dev packages; thanks Ben Collins.
  * debian/rules:
    - Modules are no longer built statically as well as dynamically (upstream
      change), so stop trying to move the files around.
    - Sort out the libapr0/libapr-dev mess once and for all; thanks to Matt
      Wilcox and Ben Collins for patiently talking me through it.
    - Move *contents* of mods-available to apache2-modules, but keep the
      directory itself as part of apache2, to keep the addons happy; thanks
      David Kimdon.
    - s/apache2-support/apache2/, see debian/control entry.
    - Remove extraneous LICENSE file from the vhost manual.
    - Remove *.exp files, because they're unneeded.
  * debian/apache2.docs:
    - Remove KEYS from the list of docs because this is crap and no longer
      distributed. w00t!

 -- Daniel Stone <daniel@sfarc.net>  Thu,  7 Feb 2002 20:39:44 +1100

apache2 (2.0.28-3) unstable; urgency=low

  * Enabled mod_auth_dbm for Subversion. (thanks David Kimdon).

 -- Daniel Stone <daniel@sfarc.net>  Thu, 29 Nov 2001 23:25:53 +1100

apache2 (2.0.28-2) unstable; urgency=low

  * Fixed up a couple of things,
    /etc/apache2/modules->/etc/apache2/mods-available, etc.
  * Included mod_dav, so Subversion can be built.
  * New package: apache2-modules-dev, containing all
    /usr/lib/apache2/modules/*a. (Thanks Adam Heath).
  * Moved libapr.so.* symlinks to libapr-dev (Thanks again to doogie).

 -- Daniel Stone <daniel@sfarc.net>  Sun, 25 Nov 2001 19:00:19 +1100

apache2 (2.0.28-1) unstable; urgency=low

  * Updated to 2.0.28, which they actually managed to agree on calling a beta.
  * debian/apache2.init.d:
    - Stripped of almost all its functionality. Now just touches httpd.conf if
      we're starting and it doesn't exist, and then calls apache2ctl with all
      our options, whatever they may be - it can error out if it wants.
  * Removed patches:
    - 010_index.html.it_typo - merged upstream.
  * Updated patches:
    - 009_apxs: make it actually find libtool. Thanks to David Kimdon.
    - 002_apache2ctl: really fix apache2ctl graceful.

 -- Daniel Stone <daniel@sfarc.net>  Sun, 18 Nov 2001 15:29:43 +1100

apache2 (2.0.26+cvs.20011028-2) unstable; urgency=low

  * Added vhost-base support. 
    - Removed Debconfage and moved all the templates to
      debian/vhost-base/templates.d (/etc/vhosts/templates.d).
      Removed apache2.postinst and apache2.config.
    - Removed a2{dis,en}host.
  * /usr/lib/cgi-bin will now be /cgi-bin, /var/vhosts/hostname/cgi-bin will be
    /cgi-local.

 -- Daniel Stone <daniel@sfarc.net>  Fri,  9 Nov 2001 21:53:27 +1100

apache2 (2.0.26+cvs.20011028-1) unstable; urgency=low

  * Resync with HEAD (another coming to fix segfaults, but no net connectivity
    at the moment - 4-11-2001, 2:12pm. Grrr).
  * New patches:
    - 011_mod_autoindex-symlink: make icons for symlinks to files and dirs 
                                 special cases.
      + Touches modules/generators/mod_autoindex.c
      + Special cases: ^^SYMDIR^^ and ^^SYMLINK^^.
    - 012_debian_version: adds "Debian" to the Apache version string.
      + Touches include/ap_release.h - this patch has *no* context. Please
        don't give it any, I don't want to have to rediff every version.
  * debian/config/httpd.conf, debian/config/apache2.conf:
    - Move main config file to apache2.conf, made it much more bare-bones.
      + User (or package) config should be done in httpd.conf.
  * apache2.conf:
    - s/Port/Listen/ - booya! Finally they cleaned it up.
    - Add (commented-out) icon entries for ^^SYMDIR^^ and ^^SYMLINK^^.
      Anyone volunteer to create icons?
  * debian/apache2.postinst:
    - Minor cleanups.
    - And later: Made it just call ap2addhost --default. (and a2enhost).
  * debian/config/modules/ssl.conf, debian/config/sites/default-443:
    - Put only generic SSL stuff in ssl.conf, split SSL support out into
      a new virtual host thingy in accordance with dealing with ports.
  * debian/config/sites/default, debian/config/sites/default-443,
    debian/patches/004b_debian_layout:
    - Add a new alias /cgi-pub/ to /usr/lib/cgi-bin. Packages should put
      scripts here.
  * debian/control: 
    - changed the Suggests: on apache2-doc to a Recommends:
      + otherwise /manual/ will be a broken alias, as it points to 
        /usr/share/doc/apache2-doc/manual.
    - changed libapr-dev to Architecture: all (from Arch: any) - whoops.
  * Added support for multiple ports on the one virtual host. At the moment
    it's one gigantic, ugly, kludge. *sigh*. Format:
    - /var/vhosts/site.name/htdocs-PORT
    - /var/vhosts/site.name/logs/(access|error).log-PORT
    - /var/vhosts/site.name/cgi-bin-PORT
  * debian/apache2.postinst, debian/config/sites/default, etc:
    - s#/var/www#/var/vhosts#;
    - s#htdocs#htdocs-$PORT#;
  * More Debconfage - it now asks if you want SSL support in the default
    virtual host, and which port number you want (default 81 so it sits
    side-by-side with apache).
  * Major change to postinst, a2addhost, et al:
    - It's all now done in Perl, and postinst is no longer a special case.
      The standalones call Debconf for what they need to do, calling it as a
      standalone. This way, postinst just calls a2addhost, etc, and it also
      smooths the path for me to do the vhost-base stuff.
  * No, this migration path probably won't be smooth (between apache2
    versions). Sorry.
  * Last release before I make it vhost-base compliant.

 -- Daniel Stone <daniel@sfarc.net>  Sun, 28 Oct 2001 20:33:18 +1100

apache2 (2.0.26+cvs.20011023-1) unstable; urgency=low

  * Damnit, resync with HEAD (2_0_26 was unstable). 

 -- Daniel Stone <daniel@sfarc.net>  Tue, 23 Oct 2001 18:36:42 +1000

apache2 (2.0.26-1) unstable; urgency=low

  * Resync with upstream CVS (but only as far as the APACHE_2_0_26 tag).
    Essentially, this gives all the coolness of a CVS tree, but all the
    stability of a release. I may start tracking HEAD later, we'll just
    have to see.
  * Changed libapr->libapr0.
  * Fixed a couple of typo's in index.html.it (thanks Md, via Joey).
  * 22nd October, 7:51pm: Resync again as they added a couple of files
    and bumped the tag to fix segfaults.

 -- Daniel Stone <daniel@sfarc.net>  Wed, 17 Oct 2001 23:50:39 +1000

apache2 (2.0.25+cvs.20011001-1) unstable; urgency=low

  * More CVS resyncing joy.
  * Silly stupid evil poo bum hack to apachectl. I don't like this.
    Please, help.
  * Got rid of a few lintian warnings.
  * Install build stuff to /etc/apache2/build, adjust apxs accordingly.
  * Agreed on policy with madduck. This is a MAJOR CHANGE, people.
    A lot of stuff has changed around, so you'll need to change your
    packages.
    apache2 now treats everything as a virtual host (even when you only
    have one host). This allows us to skirt around FHS and do our own
    thing. ("Thpthpthpthpthpthpt, we're using vhosts. FHS doesn't say
    anything about that.")
    Please see README.Debian for more details.
  * More fun with virtual hosts. Migrated their configuration files to
    /etc/apache2/virtuals/<name>. This will allow for easy adding and
    removal, via the new tools /usr/sbin/ap2(add|del)vh.
    apache2's postinst touches /etc/apache2/POSTINST_CONFED, and will refuse
    to re-run the postinst config stuff if it's there already.
  * Module fun - /usr/sbin/ap2mod(en|dis). Modules put their loading line in
    /etc/apache2/modules/foo.load, config in /etc/apache2/modules/foo.conf.
    Enabled module stuff gets symlinked into /etc/apache2/mods-enabled.
  * Move APR stuff to /usr/lib, not /usr/lib/libapr. Whoops, should've done
    this a *long* *time* *ago*.
  * More silly APR hacks: Move /usr/include/libapr to /usr/include/apache2, as
    silly things like php4 don't get the fact that APR and apache2 can indeed
    have different include directories. Grrr.
  * Juggled script names - it's now a2(en|dis)(host|mod).
  * I don't care, I'm uploading. No, really (closes: #103471).
    It's been 93 days since I first did dh_make and ITPed it. :)

 -- Daniel Stone <daniel@sfarc.net>  Thu,  4 Oct 2001 20:15:31 +1000

apache2 (2.0.25+cvs.20010923-1) unstable; urgency=low

  * Another resync with upstream CVS; most of the changes below were made
    between then and now.
  * Also added apache2-support - everything from support/*, so php4, et al
    don't need to Build-Depend on apache2 itself.

 -- Daniel Stone <DanielS@esd.nec.com.au>  Sun, 23 Sep 2001 13:21:16 +1000

apache2 (2.0.25+cvs.20010908-1) unstable; urgency=low

  * Synched everything with CVS; it works now. 
  * We now build with ./buildconf due to the above; redo all the patches
    against configure.in. I swear this will be the last change, and that I'll
    test it.
  * Removed php4 and modperl-2.0 from the tree. I should keep the changelogs 
    internal, as this is now getting not only very silly, but very embarassing.
  * I corrected myself in the ITP that it was licensed under the Apache
    Software License, not GPLed, but forgot to do that in debian/copyright.
    Whoops. Feel free to LART.
  * Lintian cleanups:
  	- Remove extra LICENSE files.
  	- Stop stuff calling -rpath.
  	- Change printenv to call /usr/bin/perl, not /usr/local/bin/perl - wtf?
  	- Move manpages to the right directory.
  * Minor merge from Thom courtesy of some stuff being stored on pandora:~thom.
    - Use buildprogs.pl to parse stuff like apache2ctl, apxs2, etc.
  * Hopefully I'm only one CVS sync away from an upload.
  * Moved some stuff over to /usr/sbin, fixed apache2ctl once and for all.
    Hopefully.

 -- Daniel Stone <daniel@sfarc.net>  Sun,  9 Sep 2001 00:05:03 +1000

apache2 (2.0.24-2) unstable; urgency=low

  * The "Farewell Buddha" Release.
  * Or, alternatively: The "Darren Milburn is an Idiot for Inciting Crowds"
    Release.
  * Yes, it's the height of evil, I know: modperl-2.0 goes into the source 
    tree. (from CVS).
    Separate tarballs, thanks to DBS, but still, yeah.
  * Ditto php4.
  * Still no Thom's laptop; hence no merges, and I'm not going to duplicate
    work. 

 -- Daniel Stone <daniel@sfarc.net>  Sun,  2 Sep 2001 21:50:59 +1000

apache2 (2.0.24-1) unstable; urgency=low

  * New upstream version.
  * Use prefork, not threaded, MPM. (threaded is currently broken).
  * Update example httpd.conf for mod_ssl and have lines for all the modules. 
  * Build-Depends, all the Build-Depends!
  * Update maintainer email address (thanks Joey).
  * Turns out using buildconf was what broke modules. I swear I won't do
    anything like that again. Promise! (thanks Thom for pointing this out)
  * Implied by the above, rediff all patches against configure, not 
    configure.in.
  * Also, don't copy configure.{guess,sub} over anymore, because we don't need
    them.
  * More Thom merges:
    - debian/patches/003_apache2ctl - rewritten apache2ctl to actually work.
  * Return of debian/patches/006_dont_install_build_crap. GAH!

 -- Daniel Stone <daniel@sfarc.net>  Sat, 18 Aug 2001 17:01:19 +1000

apache2 (2.0.23-2) unstable; urgency=low
  * SSL finally works, and beat instructions on how to get it going out
    of someone on new-httpd. Moved SSL stuff to apache2-modules. 
  * Disabled TLS, because it's unstable and unnecessary.
  * Merge from Thom May's tree:
      005b_debian_layout - The Debian layout for stuff
    - Move APR stuff to /usr/lib/libapr and /usr/include/libapr.
    - Clean up debian/rules, largely thanks to the two new patches.
  * General cleanups, resulting from running lintian:
    - Chuck #DEBHELPER# in postinst, which also fixes the /usr/doc
      and init.d problems (due to debhelper now doing its postinst
      thing).
    - Remove LICENSE files from apache2-doc and the default document
      root.
    - Remove man/ and build/ top-level dirs, install manpages correctly.
    - Updated 004_perl_in_usr_bin to include the manual search CGI.
  * Remove all evil, ugly, patches to configure in debian/patches/*, instead,
    diff against configure.in, because autoconf gets run in the configure
    stage every time.
  * Copy config.{guess,sub} from /usr/share/misc (provided by autotools-dev) at
    runtime, thus eliminating debian/patches/002_config_guess_and_sub.
  * Reshuffled patch numbers to cope with the above.
  * I give up on this DBM crap. Disable mod_auth_dbm for now.

 -- Daniel Stone <daniel@sfarc.net>  Wed, 15 Aug 2001 18:27:23 +1000

apache2 (2.0.23-1) unstable; urgency=low

  * New upstream - 2.0.23.
  * New patches:
    004_conffile_in_etc_apache2 - Make an ugly init.d hack unnecessary.
    005_perl_in_usr_bin - Make example CGI scripts use /usr/bin/perl.
  * Fix mime_magic stuff by copying magic to /etc/apache2. 
  * Remove debian/patches/003_cgisock_in_var_log_apache2, instead found a new
    conffile directive, put this into the default distributed conffile.

 -- Daniel Stone <daniel@sfarc.net>  Sun, 12 Aug 2001 18:05:32 +1000

apache2 (2.0.22-2) unstable; urgency=low

  * Aargh, I'm an idiot. Fix a bug in mod_cgid.c that had a hardcoded path.
    That's now debian/pactches/003*. 

 -- Daniel Stone <daniel@sfarc.net>  Sat, 11 Aug 2001 08:04:13 +1000

apache2 (2.0.22-1) unstable; urgency=low

  * Updated to 2.0.22, started using a form of DBS.
  * Merge from Thom May's 2.0.20 tree - new libapr-dev package.
  * Backed out the old mod_(tls|ssl) hacks, see if 2.0.23 is any better
    (apparently it is, thank god).

 -- Daniel Stone <daniel@sfarc.net>  Wed,  8 Aug 2001 15:13:09 +1000

apache2 (2.0.20-2) unstable; urgency=low

  * New SSL fixes from new-httpd. Apparently, this (generally) works. 

 -- Daniel Stone <daniels@yakko.doogie.org>  Fri, 13 Jul 2001 07:57:18 -0500

apache2 (2.0.20-1) unstable; urgency=low

  * New upstream release

 -- Daniel Stone <daniel@kabuki.sfarc.net>  Mon,  9 Jul 2001 18:41:04 +1000

apache2 (2.0.18-1) unstable; urgency=low

  * Initial Release.

 -- Daniel Stone <daniel@sfarc.net>  Wed,  4 Jul 2001 21:29:29 +1000
